function lazyLoadImages(){let e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver((e,a)=>{e.forEach(e=>{if(e.isIntersecting){let a=e.target;a.src=a.dataset.src,a.removeAttribute("data-src"),t.unobserve(a)}})},{root:null,rootMargin:"0px",threshold:.1});e.forEach(e=>t.observe(e))}document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".monument-card"),t=document.getElementById("monument-details"),a={"notre-dame":{name:"Catedral de Notre-Dame",location:"Paris, Fran\xe7a",description:"A Catedral de Notre-Dame \xe9 um dos mais famosos exemplos da arquitetura g\xf3tica. Iniciada em 1163 e conclu\xedda em 1245, \xe9 conhecida por seus vitrais impressionantes e g\xe1rgulas ic\xf4nicas.",funFact:"A catedral sobreviveu a um grande inc\xeandio em 2019 e est\xe1 atualmente em processo de restaura\xe7\xe3o."},milan:{name:"Catedral de Mil\xe3o",location:"Mil\xe3o, It\xe1lia",description:"A Catedral de Mil\xe3o, ou Duomo di Milano, \xe9 a maior igreja da It\xe1lia e levou quase seis s\xe9culos para ser conclu\xedda. Sua fachada elaborada \xe9 adornada com 135 agulhas e 3.400 est\xe1tuas.",funFact:"O telhado da catedral \xe9 acess\xedvel aos visitantes, oferecendo uma vista panor\xe2mica de Mil\xe3o."},cologne:{name:"Catedral de Col\xf4nia",location:"Col\xf4nia, Alemanha",description:"A Catedral de Col\xf4nia \xe9 um impressionante exemplo do g\xf3tico alem\xe3o. Sua constru\xe7\xe3o come\xe7ou em 1248 e s\xf3 foi conclu\xedda em 1880, seguindo os planos originais do s\xe9culo XIII.",funFact:"As torres g\xeameas da catedral t\xeam 157 metros de altura, fazendo dela a igreja mais alta do mundo at\xe9 1884."},westminster:{name:"Abadia de Westminster",location:"Londres, Inglaterra",description:"A Abadia de Westminster \xe9 um grande exemplo do g\xf3tico ingl\xeas. Al\xe9m de sua import\xe2ncia arquitet\xf4nica, \xe9 o local tradicional de coroa\xe7\xe3o e sepultamento dos monarcas ingleses e brit\xe2nicos.",funFact:"A abadia abriga o t\xfamulo do Soldado Desconhecido, homenageando os mortos na Primeira Guerra Mundial."}};e.forEach(o=>{o.addEventListener("click",()=>{let l=o.dataset.monument,r=a[l];r?(t.innerHTML=`
                  <h3>${r.name}</h3>
                  <p><strong>Localiza\xe7\xe3o:</strong> ${r.location}</p>
                  <p>${r.description}</p>
                  <p><strong>Curiosidade:</strong> ${r.funFact}</p>
              `,t.style.display="block"):console.error("Informa\xe7\xf5es do monumento n\xe3o encontradas"),e.forEach(e=>e.classList.remove("active")),o.classList.add("active")})});let o=document.querySelectorAll(".fade-in"),l=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1});o.forEach(e=>l.observe(e));let r=document.querySelector(".menu-toggle"),n=document.querySelector("nav ul");r&&n&&r.addEventListener("click",()=>{let e="true"===r.getAttribute("aria-expanded");r.setAttribute("aria-expanded",!e),n.classList.toggle("show")});let s=document.querySelectorAll("nav ul li a");s.forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<=768&&(n.classList.remove("show"),r.setAttribute("aria-expanded","false"))})});let i=document.querySelector("header");window.addEventListener("scroll",()=>{window.scrollY>100?i.classList.add("scrolled"):i.classList.remove("scrolled")})}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".fade-in"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1});e.forEach(e=>t.observe(e));let a=document.querySelectorAll(".float");a.forEach(e=>{e.style.animation=`float ${3+2*Math.random()}s ease-in-out infinite`});let o=document.querySelectorAll("nav ul li a");o.forEach(e=>{e.addEventListener("click",()=>{if(window.innerWidth<=768){let e=document.querySelector("nav ul"),t=document.querySelector(".menu-toggle");e.classList.remove("show"),t.setAttribute("aria-expanded","false")}})});let l=document.querySelector("header");window.addEventListener("scroll",()=>{window.scrollY>100?l.classList.add("scrolled"):l.classList.remove("scrolled")});let r=document.querySelectorAll(".modal"),n=document.querySelectorAll(".modal-trigger"),s=document.querySelectorAll(".modal-close");function i(e){e.classList.add("show"),e.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",e.querySelector(".modal-close").focus()}function d(e){e.classList.remove("show"),e.setAttribute("aria-hidden","true"),document.body.style.overflow=""}n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let a=document.querySelector(e.dataset.modal);a&&i(a)})}),s.forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".modal");t&&d(t)})}),window.addEventListener("click",e=>{r.forEach(t=>{e.target===t&&d(t)})}),document.addEventListener("keydown",e=>{if("Escape"===e.key){let t=document.querySelector(".modal.show");t&&d(t)}});let c=document.querySelectorAll(".typing");c.forEach(e=>{let t=e.textContent;e.textContent="";let a=0,o=()=>{a<t.length&&(e.textContent+=t.charAt(a),a++,setTimeout(o,100))};o()}),window.addEventListener("scroll",function(){let e=window.pageYOffset,t=document.querySelector(".hero");t&&(t.style.backgroundPositionY=`${.5*e}px`)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=document.querySelector(this.getAttribute("href"));if(t){if("scrollBehavior"in document.documentElement.style)t.scrollIntoView({behavior:"smooth"});else{let a=t.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:a,behavior:"smooth"})}}})});let u=document.querySelectorAll("img[data-src]"),m=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target;t.src=t.dataset.src,t.removeAttribute("data-src"),t.classList.remove("lazy-load"),m.unobserve(t)}})});u.forEach(e=>m.observe(e)),document.querySelectorAll(".count-up");let h=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,a=parseInt(t.dataset.target),o=0,l=()=>{let e=a/200;o<a?(o+=e,t.innerText=Math.ceil(o),setTimeout(l,10)):t.innerText=a};l(),h.unobserve(t)}})});function f(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}f(),window.addEventListener("resize",f);let g=document.querySelectorAll("form");g.forEach(e=>{e.addEventListener("submit",t=>{if(t.preventDefault(),e.checkValidity()){console.log("Formul\xe1rio v\xe1lido, enviando...");let a=e.querySelector('button[type="submit"]');a.textContent="Enviado!",a.disabled=!0,setTimeout(()=>{a.textContent="Enviar",a.disabled=!1},3e3)}else e.reportValidity()})});let v=document.getElementById("theme-toggle");if(v){v.addEventListener("click",()=>{document.body.classList.toggle("light-theme");let e=document.body.classList.contains("light-theme");localStorage.setItem("theme",e?"light":"dark"),v.textContent=e?"\uD83C\uDF19":"☀️"});let y=localStorage.getItem("theme");"light"===y&&(document.body.classList.add("light-theme"),v.textContent="\uD83C\uDF19")}let E=document.getElementById("search-input"),L=document.getElementById("search-results");E&&L&&E.addEventListener("input",e=>{let t=e.target.value.toLowerCase(),a=document.querySelectorAll("p, h1, h2, h3, h4, h5, h6"),o=Array.from(a).filter(e=>e.textContent.toLowerCase().includes(t));L.innerHTML="",o.forEach(e=>{let t=document.createElement("li");t.textContent=e.textContent.substring(0,50)+"...",L.appendChild(t)}),L.style.display=t?"block":"none"})}),navLinks.addEventListener("click",function(e){if("A"===e.target.tagName){e.preventDefault();let t=e.target.getAttribute("href").slice(1),a=document.getElementById(t);a&&a.scrollIntoView({behavior:"smooth"})}}),document.addEventListener("DOMContentLoaded",lazyLoadImages),document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("navLinks");e&&e.addEventListener("click",function(e){if("A"===e.target.tagName){e.preventDefault();let t=e.target.getAttribute("href").slice(1),a=document.getElementById(t);a&&a.scrollIntoView({behavior:"smooth"})}})});const buttonsSaibaMais=document.querySelectorAll(".btn-saiba-mais"),modalLivro=document.getElementById("modal-livro"),modalTitulo=document.getElementById("modal-titulo"),modalAutor=document.getElementById("modal-autor"),modalDescricao=document.getElementById("modal-descricao");buttonsSaibaMais.forEach(e=>{e.addEventListener("click",t=>{let a=parseInt(e.dataset.livroId),o=livros.find(e=>e.id===a);o&&(modalTitulo.textContent=o.titulo,modalAutor.textContent=o.autor,modalDescricao.textContent=o.descricao,openModal(modalLivro))})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("modal");let e=document.querySelectorAll(".modal-trigger");function t(e){e.classList.add("show"),e.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",e.querySelector(".modal_close").focus()}function a(e){e.classList.remove("show"),e.setAttribute("aria-hidden","true"),document.body.style.overflow=""}e.forEach(e=>{e.addEventListener("click",a=>{a.preventDefault();let o=document.querySelector(e.dataset.modal);o&&t(o)})}),monumentModals.forEach(e=>{e.addEventListener("click",t=>{(t.target===e||t.target.classList.contains("modal-close"))&&a(e)})}),document.addEventListener("keydown",e=>{if("Escape"===e.key){let t=document.querySelector(".modal.show");t&&a(t)}})}),document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".modal"),t=document.querySelectorAll(".modal-trigger");function a(e){e.classList.add("show"),e.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",e.querySelector(".modal-close").focus()}function o(e){e.classList.remove("show"),e.setAttribute("aria-hidden","true"),document.body.style.overflow=""}t.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let o=document.querySelector(e.dataset.modal);o&&a(o)})}),e.forEach(e=>{e.addEventListener("click",t=>{(t.target===e||t.target.classList.contains("modal-close"))&&o(e)})}),document.addEventListener("keydown",e=>{if("Escape"===e.key){let t=document.querySelector(".modal.show");t&&o(t)}})});